<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0">
    <welcome-file-list>
    <welcome-file>login.html</welcome-file>
</welcome-file-list>

<filter>
    <filter-name>AuthFilter</filter-name>
    <filter-class>Filters.AuthFilter</filter-class>
</filter>

<filter>
    <filter-name>InputValidationFilter</filter-name>
    <filter-class>Filters.InputValidationFilter</filter-class>
</filter>
<filter-mapping>
    <filter-name>AuthFilter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>

<filter-mapping>
    <filter-name>InputValidationFilter</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>

<!--Category Servlets Mapping -->
<!--    Add Category Mapping -->
    <servlet>
        <servlet-name>AddCategory</servlet-name>
        <servlet-class>Category.AddCategoryServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AddCategory</servlet-name>
        <url-pattern>/add-category</url-pattern>
    </servlet-mapping>
<!--View Category mapping-->
    <servlet>
        <servlet-name>ViewCategory</servlet-name>
        <servlet-class>Category.GetCategoryListServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ViewCategory</servlet-name>
        <url-pattern>/view-category</url-pattern>
    </servlet-mapping>


<!--    Book servlets mapping-->
    <servlet>
        <servlet-name>AddBook</servlet-name>
        <servlet-class>Book.AddBookServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AddBook</servlet-name>
        <url-pattern>/add-book</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>ViewBookServlet</servlet-name>
        <servlet-class>Book.ViewBookServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ViewBookServlet</servlet-name>
        <url-pattern>/view-books</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>SearchByCategoryServlet</servlet-name>
        <servlet-class>Book.SearchByCategoryServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>SearchByCategoryServlet</servlet-name>
        <url-pattern>/search-by-category</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>UpdateStockServlet</servlet-name>
        <servlet-class>Book.UpdateStockServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>UpdateStockServlet</servlet-name>
        <url-pattern>/update-stock</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>SearchByAuthorServlet</servlet-name>
        <servlet-class>Book.SearchByAuthorServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>SearchByAuthorServlet</servlet-name>
        <url-pattern>/search-by-author</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>SearchByTitleServlet</servlet-name>
        <servlet-class>Book.SearchByTitleServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>SearchByTitleServlet</servlet-name>
        <url-pattern>/search-by-title</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>GetBookByPageServlet</servlet-name>
        <servlet-class>Book.GetBookByPageServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>GetBookByPageServlet</servlet-name>
        <url-pattern>/get-book-by-page</url-pattern>
    </servlet-mapping>

<!--    Librarian Servlets -->
    
    <servlet>
        <servlet-name>LoginServlet</servlet-name>
        <servlet-class>Librarian.LoginServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>LoginServlet</servlet-name>
        <url-pattern>/login</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>AddLibrarianServlet</servlet-name>
        <servlet-class>Librarian.AddLibrarianServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AddLibrarianServlet</servlet-name>
        <url-pattern>/add-librarian</url-pattern>
    </servlet-mapping>
    
    <!--    Student Servlets-->
    <servlet>
        <servlet-name>AddStudentServlet</servlet-name>
        <servlet-class>Student.AddStudentServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AddStudentServlet</servlet-name>
        <url-pattern>/add-student</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>ViewStudentServlet</servlet-name>
        <servlet-class>Student.ViewStudentServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ViewStudentServlet</servlet-name>
        <url-pattern>/view-student</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>DeleteStudentBatchServlet</servlet-name>
        <servlet-class>Student.DeleteStudentBatchServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>DeleteStudentBatchServlet</servlet-name>
        <url-pattern>/delete-student-batch</url-pattern>
    </servlet-mapping>

<!--    Borrow_Return Servlets-->
    <servlet>
        <servlet-name>AddBorrowServlet</servlet-name>
        <servlet-class>Borrow_Return.AddBorrowServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AddBorrowServlet</servlet-name>
        <url-pattern>/add-borrow</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>ViewBorrowServlet</servlet-name>
        <servlet-class>Borrow_Return.ViewBorrowServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ViewBorrowServlet</servlet-name>
        <url-pattern>/view-borrow</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>FetchBookDetailsServlet</servlet-name>
        <servlet-class>Borrow_Return.FetchBookDetailsServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>FetchBookDetailsServlet</servlet-name>
        <url-pattern>/fetch-book-details</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>ReturnServlet</servlet-name>
        <servlet-class>Borrow_Return.ReturnServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ReturnServlet</servlet-name>
        <url-pattern>/return</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>ConfirmReturnServlet</servlet-name>
        <servlet-class>Borrow_Return.ConfirmReturnServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>ConfirmReturnServlet</servlet-name>
        <url-pattern>/confirm-return</url-pattern>
    </servlet-mapping>

<!--    Group days-->
    <servlet>
        <servlet-name>GetGroupDaysServlet</servlet-name>
        <servlet-class>Group_days.GetGroupDaysServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>GetGroupDaysServlet</servlet-name>
        <url-pattern>/get-groups</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>UpdateDaysServlet</servlet-name>
        <servlet-class>Group_days.UpdateDaysServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>UpdateDaysServlet</servlet-name>
        <url-pattern>/update-days</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>AddGroupServlet</servlet-name>
        <servlet-class>Group_days.AddGroupServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>AddGroupServlet</servlet-name>
        <url-pattern>/add-group</url-pattern>
    </servlet-mapping>
    <servlet>
        <servlet-name>UpdateFineServlet</servlet-name>
        <servlet-class>Fine.UpdateFineServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>UpdateFineServlet</servlet-name>
        <url-pattern>/update-fine</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>GetFineServlet</servlet-name>
        <servlet-class>Fine.GetFineServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>TokenTestServlet</servlet-name>
        <servlet-class>Librarian.TokenTestServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>SessionTestServlet</servlet-name>
        <servlet-class>Librarian.SessionTestServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>SessionTestServlet</servlet-name>
        <url-pattern>/session-test</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>TokenTestServlet</servlet-name>
        <url-pattern>/token-test</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>GetFineServlet</servlet-name>
        <url-pattern>/get-fine</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>CookieTest</servlet-name>
        <servlet-class>Utils.CookieTest</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CookieTest</servlet-name>
        <url-pattern>/cookie-test</url-pattern>
    </servlet-mapping>
<!--    payments-->
    <servlet>
        <servlet-name>CreatePaymentOrder</servlet-name>
        <servlet-class>Payment.CreatePaymentOrderServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CreatePaymentOrder</servlet-name>
        <url-pattern>/create-payment-order</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>ValidatePaymentServlet</servlet-name>
        <servlet-class>Payment.ValidatePaymentServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ValidatePaymentServlet</servlet-name>
        <url-pattern>/validate-payment</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>CancelledPaymentServlet</servlet-name>
        <servlet-class>Payment.CancelledPaymentServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CancelledPaymentServlet</servlet-name>
        <url-pattern>/cancel-payment</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>CapturedWebhook</servlet-name>
        <servlet-class>Payment.CapturedWebhookHandler</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>CapturedWebhook</servlet-name>
        <url-pattern>/capture-webhook</url-pattern>
    </servlet-mapping>
</web-app>
